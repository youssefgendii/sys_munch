const translations = {
    en: {
        "tagline": "Bringing People Together",
        "menu": "Menu",
        "all-categories": "All",
        "sandwiches": "Sandwiches",
        "sliders": "Sliders",
        "snacks": "Snacks",
        "desserts": "Desserts",
        "extras": "Extras",
        "current-order": "Current Order",
        "no-items": "No items added yet",
        "subtotal": "Subtotal:",
        "tax": "Tax:",
        "total": "Total:",
        "clear-order": "Clear Order",
        "confirm-order": "Confirm Order",
        "today-orders": "Today's Orders",
        "no-orders": "No orders yet",
        "daily-revenue": "Daily Revenue:",
        "order-details": "Order Details",
        "order": "Order",
        "quantity": "Qty",
        "price": "Price",
        "remove": "Remove",
        "time": "Time",
        "items": "items",
        "admin-panel": "Admin Panel",
        "current-orders-link": "Current Orders",
        "current-orders-title": "Current Orders",
        "open-cashier": "Back to Cashier",
        "last-update": "Last update",
        "auto-refresh": "Auto refresh every 2 seconds",
        "out-of-stock": "Out of Stock",
        "insufficient-quantity": "Insufficient quantity available for",
        "admin-dashboard": "Admin Dashboard",
        "back-cashier": "Back to Cashier",
        "today-summary": "Today",
        "monthly-summary": "Monthly",
        "inventory-mgmt": "Inventory",
        "total-orders": "Total Orders",
        "total-revenue": "Total Revenue",
        "avg-order-value": "Avg Order Value",
        "items-sold": "Items Sold",
        "orders-list": "Orders List",
        "items-ordered": "Items",
        "top-items": "Top Selling Items",
        "monthly-breakdown": "Monthly Breakdown by Date",
        "item-name": "Item Name",
        "current-quantity": "Current Qty",
        "actions": "Actions",
        "status": "Status",
        "edit": "Edit",
        "edit-quantity": "Edit Quantity",
        "item": "Item",
        "new-quantity": "New Quantity",
        "save": "Save",
        "cancel": "Cancel",
        "all": "All",
        "reset-all": "Reset All",
        "logout": "Logout",
        "admin-login": "Admin Login",
        "username": "Username",
        "password": "Password",
        "login-button": "Login"
    },
    ar: {
        "tagline": "\u062c\u0644\u0628 \u0627\u0644\u0646\u0627\u0633 \u0645\u0639\u0627",
        "menu": "\u0627\u0644\u0642\u0627\u0626\u0645\u0629",
        "all-categories": "\u0627\u0644\u0643\u0644",
        "sandwiches": "\u0627\u0644\u0633\u0646\u062f\u0648\u064a\u062a\u0634\u0627\u062a",
        "sliders": "\u0627\u0644\u0633\u0644\u0627\u064a\u062f\u0631\u0632",
        "snacks": "\u0627\u0644\u0648\u062c\u0628\u0627\u062a \u0627\u0644\u062e\u0641\u064a\u0641\u0629",
        "desserts": "\u0627\u0644\u062d\u0644\u0648\u064a\u0627\u062a",
        "extras": "\u0627\u0644\u0625\u0636\u0627\u0641\u0627\u062a",
        "current-order": "\u0627\u0644\u0637\u0644\u0628 \u0627\u0644\u062d\u0627\u0644\u064a",
        "no-items": "\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u0646\u0627\u0635\u0631 \u0645\u0636\u0627\u0641\u0629",
        "subtotal": "\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0641\u0631\u0639\u064a:",
        "tax": "\u0627\u0644\u0636\u0631\u064a\u0628\u0629:",
        "total": "\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:",
        "clear-order": "\u0645\u0633\u062d \u0627\u0644\u0637\u0644\u0628",
        "confirm-order": "\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0637\u0644\u0628",
        "today-orders": "\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u064a\u0648\u0645",
        "no-orders": "\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a",
        "daily-revenue": "\u0625\u064a\u0631\u0627\u062f\u0627\u062a \u0627\u0644\u064a\u0648\u0645:",
        "order-details": "\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628",
        "order": "\u0627\u0644\u0637\u0644\u0628",
        "quantity": "\u0627\u0644\u0643\u0645\u064a\u0629",
        "price": "\u0627\u0644\u0633\u0639\u0631",
        "remove": "\u0625\u0632\u0627\u0644\u0629",
        "time": "\u0627\u0644\u0648\u0642\u062a",
        "items": "\u0639\u0646\u0627\u0635\u0631",
        "admin-panel": "\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u0633\u0624\u0648\u0644",
        "current-orders-link": "\u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062d\u0627\u0644\u064a\u0629",
        "current-orders-title": "\u0627\u0644\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062d\u0627\u0644\u064a\u0629",
        "open-cashier": "\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0643\u0627\u0634\u064a\u0631",
        "last-update": "\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b",
        "auto-refresh": "\u062a\u062d\u062f\u064a\u062b \u062a\u0644\u0642\u0627\u0626\u064a \u0643\u0644 \u062b\u0627\u0646\u064a\u062a\u064a\u0646",
        "out-of-stock": "\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631",
        "insufficient-quantity": "\u0627\u0644\u0643\u0645\u064a\u0629 \u063a\u064a\u0631 \u0643\u0627\u0641\u064a\u0629 \u0644\u0640",
        "admin-dashboard": "\u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u0633\u0624\u0648\u0644",
        "back-cashier": "\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0643\u0627\u0634\u064a\u0631",
        "today-summary": "\u0627\u0644\u064a\u0648\u0645",
        "monthly-summary": "\u0634\u0647\u0631\u064a",
        "inventory-mgmt": "\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062e\u0632\u0648\u0646",
        "total-orders": "\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a",
        "total-revenue": "\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a",
        "avg-order-value": "\u0645\u062a\u0648\u0633\u0637 \u0642\u064a\u0645\u0629 \u0627\u0644\u0637\u0644\u0628",
        "items-sold": "\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u0628\u0627\u0639\u0629",
        "orders-list": "\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a",
        "items-ordered": "\u0627\u0644\u0639\u0646\u0627\u0635\u0631",
        "top-items": "\u0623\u0641\u0636\u0644 \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0645\u0628\u064a\u0639\u0627",
        "monthly-breakdown": "\u062a\u0641\u0635\u064a\u0644 \u0634\u0647\u0631\u064a \u062d\u0633\u0628 \u0627\u0644\u062a\u0627\u0631\u064a\u062e",
        "item-name": "\u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631",
        "current-quantity": "\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",
        "actions": "\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",
        "status": "\u0627\u0644\u062d\u0627\u0644\u0629",
        "edit": "\u062a\u0639\u062f\u064a\u0644",
        "edit-quantity": "\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0643\u0645\u064a\u0629",
        "item": "\u0639\u0646\u0635\u0631",
        "new-quantity": "\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",
        "save": "\u062d\u0641\u0638",
        "cancel": "\u0625\u0644\u063a\u0627\u0621",
        "all": "\u0627\u0644\u0643\u0644",
        "reset-all": "\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",
        "logout": "\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",
        "admin-login": "\u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u0633\u0624\u0648\u0644",
        "username": "\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",
        "password": "\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",
        "login-button": "\u062f\u062e\u0648\u0644"
    }
};

let currentLanguage = "en";
const LANGUAGE_STORAGE_KEY = "munch_language";

function getSavedLanguage() {
    try {
        const saved = localStorage.getItem(LANGUAGE_STORAGE_KEY);
        return saved === "ar" ? "ar" : "en";
    } catch (e) {
        return "en";
    }
}

function setLanguage(lang) {
    currentLanguage = lang === "ar" ? "ar" : "en";
    try {
        localStorage.setItem(LANGUAGE_STORAGE_KEY, currentLanguage);
    } catch (e) {
        // ignore storage errors
    }
    document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";
    document.documentElement.lang = currentLanguage;
    updatePageTranslations();
}

function updatePageTranslations() {
    document.querySelectorAll("[data-i18n]").forEach((element) => {
        const key = element.getAttribute("data-i18n");
        if (translations[currentLanguage][key]) {
            element.textContent = translations[currentLanguage][key];
        }
    });
}

function t(key) {
    return translations[currentLanguage][key] || key;
}
